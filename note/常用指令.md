# conda相关
## 虚拟环境配置文件导出
```conda env export > conda-gpu.yml```
```pip freeze > conda-gpu.txt```
## 通过配置文件方式创建虚拟环境
```conda env create -f conda-gpu.yml```
```pip install -r conda-gpu.txt```
## 克隆已有虚拟环境
```conda create --name test --clone base```
## 创建和删除虚拟环境
```conda create -n tf1.14 python=3.6```
```conda remove --name tf1.14 --all```
## 安装cuda
```conda install cudatoolkit==10.1.243 cudnn```


# 显卡设置
```export CUDA_VISIBLE_DEVICES=0```
```
gpus = tf.config.experimental.list_physical_devices('GPU')
if gpus:
    try:
        for gpu in gpus:
            tf.config.experimental.set_memory_growth(gpu, True)
    except RuntimeError as e:
        print(e)
```


# Linux指令
## 后台运行任务
```nohup python train.py > train_log 2> error_log &```
## 查看python解释器
```!which python```
## 下载Miniconda-py36
```wget https://repo.anaconda.com/miniconda/Miniconda3-4.5.4-Linux-x86_64.sh```


# Docker相关
## 共享本地文件夹和container内部
```sudo nvidia-docker run -it --name tf -p 8888:8888 -v /home/mao/data:/home/mao/data 413b9533f92a```


# Jupyter相关
## 查看notebook的内核
```jupyter kernelspec list```
```jupyter kernelspec remove kernelName```
## 添加notebook的内核步骤
```
1. conda create -n tf2.2 python=3.6 ipykernel
2. source activate tf2.2
3. conda install -n tf2.2 ipykernel
4. python -m ipykernel install --user --name tf2.2
```